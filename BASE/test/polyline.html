<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">  
<head>  
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />  
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />  
    <title>折线的增加_SmartEarth Maps API 范例文档</title>  
    <style type="text/css">v\:*{behavior:url(#default#VML);}</style>  

   <script language="javascript" src="http://api.smartearth.cn/pilotgaea/maps_api.js"></script>

    <script type="text/javascript" language="javascript">  
        var map;  
        function onLoad() {  
        map=new PG.Map("mapDiv");  
        map.SetCenter(new PG.Point(121.3933,24.86671,false),8);
		map.AddControl(new PG.MapControl()); 
  
        // 生成折线的点数组  
        var points = new Array();  
        points.push( new PG.Point( 121.8933,24.86671,false ) );  
        points.push( new PG.Point( 121.1933,24.96671,false ) );  
        points.push( new PG.Point( 121.3933,24.16671,false ) );  
        // 根据点数组创建一条折线  
        var polyLine = new PG.PolylineEntity( points );  
        // 将折线添加到地图  
        map.AddEntity( polyLine );  
		
		//polyLine1.EnableEdit();
		//polyLine2.EnableEdit();

		polyLine.EnableEdit();


		polyLine.OnChange(function(){
			alert('onChange');
			polyLine.DisableEdit();
		});

		polyLine.OnEditEnd(function(){
			alert('onEditEnd');
		});
		

		var p=new PG.MarkEntity(map.GetCenter());
		 map.AddEntity(p);
		 p.OpenWindowHtml('8888');
		 p.EnableEdit();

		 PG.Event.addListener(p,'OnDragEnd',function(){//alert(666);
			//p.DisableEdit();

		 });
		

    }  
    </script>  
</head>  
<body onload="onLoad()">  
    <div id="mapDiv" style="width:500px; height:450px;"></div>  
	<input id="info"/>
</body>  
</html> 